<!DOCTYPE html>
<html lang="th">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>‡πÅ‡∏ú‡∏ô‡∏Å‡∏ß‡∏¥‡∏ä‡∏≤‡∏ä‡πà‡∏≤‡∏á‡∏≠‡∏¥‡πÄ‡∏•‡πá‡∏Å‡∏ó‡∏£‡∏≠‡∏ô‡∏¥‡∏Å‡∏™‡πå - ‡∏ß‡∏¥‡∏ó‡∏¢‡∏≤‡∏•‡∏±‡∏¢‡πÄ‡∏ó‡∏Ñ‡∏ô‡∏¥‡∏Ñ‡∏£‡∏≤‡∏ä‡∏ö‡∏∏‡∏£‡∏µ</title>
    <link rel="stylesheet" href="style.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Kanit:wght@400;500;600&display=swap"
      rel="stylesheet"
    />
  </head>
  <body>
    <div class="header-wrapper">
      <header class="container">
        <div class="logo-area">
          <img
            src="logo.png"
            alt="Ratchaburi Technical College Logo"
            class="logo-img"
          />
          <div class="college-title">
            <span class="college-name-th">Ratchaburi Technical College</span>
            <span class="college-name-en">‡∏ß‡∏¥‡∏ó‡∏¢‡∏≤‡∏•‡∏±‡∏¢‡πÄ‡∏ó‡∏Ñ‡∏ô‡∏¥‡∏Ñ‡∏£‡∏≤‡∏ä‡∏ö‡∏∏‡∏£‡∏µ</span>
          </div>
        </div>
      </header>
    </div>

    <div class="nav-main-wrapper">
      <nav class="container nav-main">
        <a href="#">‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å</a>
        <a href="#">‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠</a>
      </nav>
    </div>
    <div class="slideshow-canter">
        <img id="slideshow-image" src="" alt="‡∏™‡∏∑‡πà‡∏≠‡∏õ‡∏£‡∏∞‡∏ä‡∏≤‡∏™‡∏±‡∏°‡∏û‡∏±‡∏ô‡∏ò‡πå" />
    </div>



    <!---------------------------------------->
    <div class="nav-buttons-wrapper">
      <nav class="container nav-buttons">
        <div class="cards">
          <!---------------------------------------->
          <div class="cards">
            <div class="dropdown">
              <div class="card red dropbtn">
                <p class="tip">‡∏´‡∏•‡∏±‡∏Å‡∏™‡∏π‡∏ï‡∏£</p>
                <p class="second-text"></p>
              </div>
              <div class="dropdown-content">
                <a href="#">‡∏´‡∏•‡∏±‡∏Å‡∏™‡∏π‡∏ï‡∏£‡∏õ‡∏µ 2564</a>
                <a href="#">‡∏´‡∏•‡∏±‡∏Å‡∏™‡∏π‡∏ï‡∏£‡∏õ‡∏µ 2567</a>
              </div>
            </div>
          </div>
          <!-----------------‡∏õ‡∏ß‡∏ä----------------------->
          <div class="cards">
            <div class="dropdown">
              <div class="card red dropbtn">
                <p class="tip">‡∏õ‡∏ß‡∏ä</p>
                <p class="second-text"></p>
              </div>
              <div class="dropdown-content">
                <a href="#">‡∏´‡∏•‡∏±‡∏Å‡∏™‡∏π‡∏ï‡∏£‡∏õ‡∏µ 2564</a>
                <a href="#">‡∏´‡∏•‡∏±‡∏Å‡∏™‡∏π‡∏ï‡∏£‡∏õ‡∏µ 2567</a>
              </div>
            </div>
          </div>
          <!-----------------‡∏õ‡∏ß‡∏™----------------------->
          <div class="cards">
            <div class="dropdown">
              <div class="card red dropbtn">
                <p class="tip">‡∏õ‡∏ß‡∏™</p>
                <p class="second-text"></p>
              </div>
              <div class="dropdown-content">
                <a href="#">‡∏´‡∏•‡∏±‡∏Å‡∏™‡∏π‡∏ï‡∏£‡∏õ‡∏µ 2564</a>
                <a href="#">‡∏´‡∏•‡∏±‡∏Å‡∏™‡∏π‡∏ï‡∏£‡∏õ‡∏µ 2567</a>
              </div>
            </div>
          </div>
          <!-----------------‡∏õ‡∏ï‡∏£‡∏µ----------------------->
          <div class="cards">
            <div class="dropdown">
              <div class="card red dropbtn">
                <p class="tip">‡∏õ.‡∏ï‡∏£‡∏µ</p>
                <p class="second-text"></p>
              </div>
              <div class="dropdown-content">
                <a href="#">‡∏´‡∏•‡∏±‡∏Å‡∏™‡∏π‡∏ï‡∏£‡∏¢‡πà‡∏≠‡∏¢ 1</a>
                <a href="#">‡∏´‡∏•‡∏±‡∏Å‡∏™‡∏π‡∏ï‡∏£‡∏¢‡πà‡∏≠‡∏¢ 2</a>
                <a href="#">‡∏´‡∏•‡∏±‡∏Å‡∏™‡∏π‡∏ï‡∏£‡∏¢‡πà‡∏≠‡∏¢ 3</a>
              </div>
            </div>
          </div>
          <!-----------------‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£----------------------->
          <div class="cards">
            <div class="dropdown">
              <div class="card red dropbtn">
                <p class="tip">‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£</p>
                <p class="second-text"></p>
              </div>
              <div class="dropdown-content">
                <a href="#">‡∏´‡∏•‡∏±‡∏Å‡∏™‡∏π‡∏ï‡∏£‡∏¢‡πà‡∏≠‡∏¢ 1</a>
                <a href="#">‡∏´‡∏•‡∏±‡∏Å‡∏™‡∏π‡∏ï‡∏£‡∏¢‡πà‡∏≠‡∏¢ 2</a>
                <a href="#">‡∏´‡∏•‡∏±‡∏Å‡∏™‡∏π‡∏ï‡∏£‡∏¢‡πà‡∏≠‡∏¢ 3</a>
              </div>
            </div>
          </div>
          <!------------------‡∏Ç‡πà‡∏≤‡∏ß‡∏™‡∏≤‡∏£---------------------->
          <div class="cards">
            <div class="dropdown">
              <div class="card red dropbtn">
                <p class="tip">‡∏Ç‡πà‡∏≤‡∏ß‡∏™‡∏≤‡∏£</p>
                <p class="second-text"></p>
              </div>
              <div class="dropdown-content">
                <a href="#">‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏° </a>
                <a href="#">‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏¥‡∏î‡∏£‡∏±‡∏ö‡∏™‡∏°‡∏±‡∏Ñ‡∏£ </a>
                <a href="#">‡∏Å‡∏≤‡∏£‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô</a>
              </div>
            </div>
          </div>
          <!------------------‡∏à‡∏ö---------------------->
        </div>
      </nav>
    </div>

    <!------------------‡∏ö‡∏≤‡∏£---------------------->
    <div class="content-wrapper-full">
      <div class="container content-layout">
        <aside class="sidebar-left">
          <div class="sidebar-title">‡∏Ç‡πà‡∏≤‡∏ß‡∏™‡∏≤‡∏£</div>
          <div class="img-placeholder"></div>
          <div class="img-placeholder"></div>

          <nav class="sidebar-links">
            <a href="https://std2018.vec.go.th/web/">‡∏®‡∏ò02</a>
            <a href="#">‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô</a>
            <a href="http://www.rtc.ac.th/RTC2568/?page_id=3446">‡πÉ‡∏ö‡∏£‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠</a>
            <a href="http://www.rtc.ac.th/RTC2568/?page_id=3446">‡πÉ‡∏ö‡∏£‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠</a>
          </nav>
        </aside>

        <main class="main-content">
          <div class="promotion-card" id="mainPromotionCard">
            <div class="card-image-wrapper">
              <img
                src="3.jpg"
                alt="‡∏†‡∏≤‡∏û‡πÇ‡∏õ‡∏£‡πÇ‡∏°‡∏ä‡∏±‡πà‡∏ô"
                class="card-image"
                id="promoImage"
              />
            </div>
          </div>
        </main>

        <aside class="sidebar-right">
          <div class="img-placeholder-person"></div>
          <p class="person-caption">
            ‡∏ô‡∏≤‡∏¢ ‡∏™‡∏∏‡∏£‡∏®‡∏±‡∏Å‡∏î‡∏¥‡πå ‡∏™‡∏∏‡∏†‡∏≤‡∏™‡∏∏‡∏ò‡∏≤‡∏Å‡∏∏‡∏•<br />
            ‡∏´‡∏±‡∏ß‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏ú‡∏ô‡∏Å‡∏ß‡∏¥‡∏ä‡∏≤‡∏ä‡πà‡∏≤‡∏á<br />
            ‡∏≠‡∏¥‡πÄ‡∏•‡πá‡∏Å‡∏ó‡∏£‡∏≠‡∏ô‡∏¥‡∏Å‡∏™‡πå
          </p>
          <nav class="sidebar-links">
            <a href="main.html">‡∏ö‡∏∏‡∏Ñ‡∏•‡∏≤‡∏Å‡∏£</a>
            <a href="#">‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏™‡∏≠‡∏ô</a>
            <a href="#">‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°</a>
            <a href="#">‡πÉ‡∏ö‡∏£‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠</a>
          </nav>
        </aside>

        <!-----------------------------chatbot-------------------------->
        <head>
          <meta charset="UTF-8" />
          <meta
            name="viewport"
            content="width=device-width, initial-scale=1.0"
          />
          <title>AI Chatbot ‡∏ô‡πâ‡∏≠‡∏á‡πÄ‡∏•‡πÇ‡∏≠</title>
          <!-- Tailwind CSS (‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏ß‡∏¢‡∏á‡∏≤‡∏°‡πÅ‡∏•‡∏∞ responsive) -->
          <script src="https://cdn.tailwindcss.com"></script>
          <style>
            /* ‡∏™‡πÑ‡∏ï‡∏•‡πå‡∏´‡∏•‡∏±‡∏Å‡∏Ç‡∏≠‡∏á‡∏õ‡∏∏‡πà‡∏°‡πÅ‡∏ä‡∏ó */
            .chatbot-button {
              position: fixed;
              bottom: 20px;
              right: 20px;
              background-color: #349af4; /* ‡∏™‡∏µ‡∏ü‡πâ‡∏≤‡∏™‡∏î‡πÉ‡∏™‡∏™‡πÑ‡∏ï‡∏•‡πå‡∏ô‡πâ‡∏≠‡∏á‡πÄ‡∏•‡πÇ‡∏≠ */
              color: white;
              border: none;
              border-radius: 50%;
              width: 60px;
              height: 60px;
              font-size: 1.25rem;
              cursor: pointer;
              box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
              z-index: 1000;
              transition: all 0.3s ease;
              display: flex;
              align-items: center;
              justify-content: center;
            }

            .chatbot-button:hover {
              transform: scale(1.1);
              background-color: #3671e9;
            }

            /* ‡∏™‡πÑ‡∏ï‡∏•‡πå‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ä‡πà‡∏≠‡∏á‡πÅ‡∏ä‡∏ó‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î */
            .chatbot-window {
              position: fixed;
              bottom: 90px;
              right: 30px;
              width: 90vw; /* Responsive width */
              max-width: 350px;
              height: 450px;
              background-color: white;
              border: 1px solid #ccc;
              border-radius: 10px;
              box-shadow: 0 8px 20px rgba(0, 0, 0, 0.4);
              display: none;
              flex-direction: column;
              z-index: 999;
              overflow: hidden;
              font-family: "Inter", sans-serif;
            }

            /* ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠ */
            @media (max-width: 640px) {
              .chatbot-window {
                bottom: 80px;
                right: 10px;
                width: calc(100vw - 40px);
                max-width: none;
                height: 80vh;
              }
            }

            /* ‡∏™‡πÑ‡∏ï‡∏•‡πå‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏° */
            .message {
              margin-bottom: 0.625rem;
              padding: 0.625rem 0.875rem;
              border-radius: 15px;
              max-width: 85%;
              font-size: 0.95rem;
            }

            .bot-message {
              background-color: #e3f2fd; /* ‡∏™‡∏µ‡∏ü‡πâ‡∏≤‡∏≠‡πà‡∏≠‡∏ô */
              align-self: flex-start;
              margin-right: auto;
              border-bottom-left-radius: 0;
              animation: fadeIn 0.5s ease-out;
            }

            .user-message {
              background-color: #1875ff;
              color: white;
              align-self: flex-end;
              margin-left: auto;
              border-bottom-right-radius: 0;
            }

            /* Loading Dots Animation */
            .loading-dots span {
              display: inline-block;
              width: 8px;
              height: 8px;
              margin: 0 2px;
              background-color: #4498ff;
              border-radius: 50%;
              opacity: 0;
              animation: bounce 1.4s infinite ease-in-out both;
            }

            .loading-dots span:nth-child(1) {
              animation-delay: -0.32s;
            }
            .loading-dots span:nth-child(2) {
              animation-delay: -0.16s;
            }
            .loading-dots span:nth-child(3) {
              animation-delay: 0s;
            }

            @keyframes bounce {
              0%,
              80%,
              100% {
                transform: scale(0);
                opacity: 0;
              }
              40% {
                transform: scale(1);
                opacity: 1;
              }
            }

            @keyframes fadeIn {
              from {
                opacity: 0;
                transform: translateY(10px);
              }
              to {
                opacity: 1;
                transform: translateY(0);
              }
            }
          </style>
        </head>
        <body class="bg-gray-100 min-h-screen">
          <!-- ‡∏õ‡∏∏‡πà‡∏°‡πÅ‡∏ä‡∏ó‡∏ö‡∏≠‡∏ó "‡∏ô‡πâ‡∏≠‡∏á‡πÄ‡∏•‡πÇ‡∏≠" -->
          <button
            class="chatbot-button"
            id="toggleChatBtn"
            title="‡πÄ‡∏õ‡∏¥‡∏î/‡∏õ‡∏¥‡∏î ‡πÅ‡∏ä‡∏ó‡∏ô‡πâ‡∏≠‡∏á‡πÄ‡∏•‡πÇ‡∏≠"
          >
            <!-- Icon ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÄ‡∏õ‡∏¥‡∏î -->
            <svg
              id="openIcon"
              class="w-6 h-6"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 4v-4z"
              ></path>
            </svg>
            <!-- Icon ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏õ‡∏¥‡∏î -->
            <span id="closeIcon" class="hidden text-3xl font-light">√ó</span>
          </button>

          <!-- ‡∏´‡∏ô‡πâ‡∏≤‡∏ï‡πà‡∏≤‡∏á‡πÅ‡∏ä‡∏ó‡∏ö‡∏≠‡∏ó -->
          <div class="chatbot-window" id="chatbotWindow">
            <div
              class="chatbot-header bg-[#00bcd4] text-white p-4 flex justify-between items-center rounded-t-lg"
            >
              <span class="text-lg font-semibold"
                >ü§ñ ‡∏ô‡πâ‡∏≠‡∏á‡πÄ‡∏•‡πÇ‡∏≠ - ‡∏ú‡∏π‡πâ‡∏ä‡πà‡∏ß‡∏¢ AI</span
              >
              <button class="close-btn p-1" onclick="toggleChat()">
                <svg
                  class="w-6 h-6"
                  fill="none"
                  stroke="currentColor"
                  viewBox="0 0 24 24"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M6 18L18 6M6 6l12 12"
                  ></path>
                </svg>
              </button>
            </div>
            <div
              class="chatbot-messages flex-grow p-4 overflow-y-auto bg-gray-50 flex flex-col space-y-2"
              id="chatbotMessages"
            >
              <!-- ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡∏à‡∏≤‡∏Å‡∏ö‡∏≠‡∏ó -->
              <div class="message bot-message self-start shadow-sm">
                ‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏µ‡∏Ñ‡∏£‡∏±‡∏ö ‡∏ú‡∏°‡∏Ñ‡∏∑‡∏≠ ‡∏ú‡∏π‡πâ‡∏ä‡πà‡∏ß‡∏¢ AI ‡∏Ç‡∏≠‡∏á‡πÄ‡∏ß‡πá‡∏ö‡πÑ‡∏ã‡∏ï‡πå‡∏ô‡∏µ‡πâ
                ‡∏ú‡∏°‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏ï‡∏≠‡∏ö‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Å‡∏±‡∏ö ‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£ ‡∏´‡∏£‡∏∑‡∏≠‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏Ç‡∏≠‡∏á‡πÅ‡∏ú‡∏ô‡∏Å‡πÅ‡∏•‡πâ‡∏ß‡∏Ñ‡∏£‡∏±‡∏ö
              </div>
            </div>
            <div
              class="chatbot-input-area p-3 border-t border-gray-200 flex items-center"
            >
              <input
                type="text"
                id="userInput"
                placeholder="‡∏û‡∏¥‡∏°‡∏û‡πå‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ñ‡∏∂‡∏á‡∏ô‡πâ‡∏≠‡∏á‡πÄ‡∏•‡πÇ‡∏≠..."
                class="flex-grow p-2 border border-gray-300 rounded-full mr-2 focus:ring-2 focus:ring-[#00bcd4] focus:border-transparent outline-none text-sm"
                onkeydown="if(event.key === 'Enter') sendMessage()"
              />
              <button
                onclick="sendMessage()"
                id="sendBtn"
                class="bg-[#00bcd4] text-white rounded-full w-10 h-10 flex items-center justify-center hover:bg-[#0097a7] transition"
              >
                <svg
                  class="w-5 h-5"
                  fill="none"
                  stroke="currentColor"
                  viewBox="0 0 24 24"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M14 5l7 7m0 0l-7 7m7-7H3"
                  ></path>
                </svg>
              </button>
            </div>
          </div>

          <script>
            // Global variables for AI API access
            // Global variables for AI API access
            const apiKey = "AIzaSyAwEXBNX7ZsDTBgsE4imW4kRr1o5WOeoAM"; // <-- ‡πÉ‡∏™‡πà Key ‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà!
            const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key=${apiKey}`;

            // --- UI Elements ---
            const chatWindow = document.getElementById("chatbotWindow");
            const toggleButton = document.getElementById("toggleChatBtn");
            const openIcon = document.getElementById("openIcon");
            const closeIcon = document.getElementById("closeIcon");
            const messagesContainer =
              document.getElementById("chatbotMessages");
            const userInput = document.getElementById("userInput");
            const sendBtn = document.getElementById("sendBtn");
            let isSending = false; // Flag to prevent multiple concurrent requests

            // --- System Instruction for Leo ---
            // ‡∏ô‡∏µ‡πà‡∏Ñ‡∏∑‡∏≠‡∏™‡πà‡∏ß‡∏ô‡∏ó‡∏µ‡πà‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î! ‡πÄ‡∏£‡∏≤‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏ö‡∏∏‡∏Ñ‡∏•‡∏¥‡∏Å‡πÅ‡∏•‡∏∞ "‡∏ê‡∏≤‡∏ô‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏π‡πâ" ‡πÉ‡∏´‡πâ‡∏Å‡∏±‡∏ö‡∏ô‡πâ‡∏≠‡∏á‡πÄ‡∏•‡πÇ‡∏≠
            // ‡πÉ‡∏ô‡∏™‡∏ñ‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏ì‡πå‡∏à‡∏£‡∏¥‡∏á ‡∏Ñ‡∏∏‡∏ì‡∏à‡∏∞‡∏ï‡πâ‡∏≠‡∏á‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≤‡∏Å‡πÄ‡∏ß‡πá‡∏ö‡πÑ‡∏ã‡∏ï‡πå‡∏°‡∏≤‡∏ß‡∏≤‡∏á‡πÑ‡∏ß‡πâ‡∏ï‡∏£‡∏á‡∏ô‡∏µ‡πâ
            // ‡πÄ‡∏ä‡πà‡∏ô ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î, ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Å‡∏≤‡∏£‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠, FAQ
            const systemPrompt = `
                                ‡∏Ñ‡∏∏‡∏ì‡∏Ñ‡∏∑‡∏≠ '‡∏ô‡πâ‡∏≠‡∏á‡πÄ‡∏•‡πÇ‡∏≠' ‡∏ú‡∏π‡πâ‡∏ä‡πà‡∏ß‡∏¢ AI ‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡πá‡∏ô‡∏°‡∏¥‡∏ï‡∏£ ‡∏ó‡∏±‡∏ô‡∏™‡∏°‡∏±‡∏¢ ‡πÅ‡∏•‡∏∞‡∏™‡∏∏‡∏†‡∏≤‡∏û ‡∏ã‡∏∂‡πà‡∏á‡πÄ‡∏õ‡πá‡∏ô‡∏ï‡∏±‡∏ß‡πÅ‡∏ó‡∏ô‡∏Ç‡∏≠‡∏á‡πÄ‡∏ß‡πá‡∏ö‡πÑ‡∏ã‡∏ï‡πå/‡πÅ‡∏ú‡∏ô‡∏Å‡∏Ç‡∏≠‡∏á‡πÄ‡∏£‡∏≤
                            
                                
                                [‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏ß‡πá‡∏ö‡πÑ‡∏ã‡∏ï‡πå/‡πÅ‡∏ú‡∏ô‡∏Å‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÉ‡∏´‡πâ‡∏ô‡πâ‡∏≠‡∏á‡πÄ‡∏•‡πÇ‡∏≠‡∏£‡∏π‡πâ]:
                                1. ‡∏ä‡∏∑‡πà‡∏≠‡∏Ç‡∏≠‡∏á‡πÅ‡∏ú‡∏ô‡∏Å‡∏Ñ‡∏∑‡∏≠‡∏ä‡πà‡∏≤‡∏á‡∏≠‡∏¥‡πÄ‡∏•‡πá‡∏Å‡∏ó‡∏£‡∏≠‡∏ô‡∏¥‡∏Å‡∏™‡πå ‡∏ß‡∏¥‡∏ó‡∏¢‡∏≤‡∏•‡∏±‡∏¢‡πÄ‡∏ó‡∏Ñ‡∏ô‡∏¥‡∏Ñ‡∏£‡∏≤‡∏ä‡∏ö‡∏∏‡∏£‡∏µ
                                2. ‡∏°‡∏µ‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î 400 ‡∏Ñ‡∏ô ‡∏ú‡∏π‡πâ‡∏ä‡∏≤‡∏¢ 200 ‡∏ú‡∏π‡πâ‡∏´‡∏ç‡∏¥‡∏á 200 (AI Chatbots, ‡∏£‡∏∞‡∏ö‡∏ö‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•)
                                3. ‡∏ö‡∏∏‡∏Ñ‡∏•‡∏≤‡∏Å‡∏£   1.‡∏ô‡∏≤‡∏¢‡∏™‡∏∏‡∏£‡∏®‡∏±‡∏Å‡∏î‡∏¥‡πå  ‡∏™‡∏∏‡∏†‡∏≤‡∏™‡∏∏‡∏ò‡∏≤‡∏Å‡∏∏‡∏• ‡∏´‡∏±‡∏ß‡∏´‡∏ô‡πâ‡∏≤ ‡πÅ‡∏ú‡∏ô‡∏Å‡∏ß‡∏¥‡∏ä‡∏≤‡∏ä‡πà‡∏≤‡∏á‡∏≠‡∏¥‡πÄ‡∏•‡πá‡∏Å‡∏ó‡∏£‡∏≠‡∏ô‡∏¥‡∏Å‡∏™‡πå
                                            2.‡∏ô‡∏≤‡∏á‡∏Å‡∏≤‡∏ç‡∏à‡∏ô‡∏≤  ‡∏Å‡∏π‡πâ‡∏™‡∏∏‡∏à‡∏£‡∏¥‡∏ï ‡∏ú‡∏π‡πâ‡∏ä‡πà‡∏ß‡∏¢‡∏´‡∏±‡∏ß‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏ú‡∏ô‡∏Å‡∏ß‡∏¥‡∏ä‡∏≤
                                            3.‡∏ô‡∏≤‡∏¢‡∏ò‡∏µ‡∏£‡∏∞‡∏®‡∏±‡∏Å‡∏î‡∏¥‡πå ‡∏â‡∏ß‡∏µ‡∏®‡∏±‡∏Å‡∏î‡∏¥‡πå ‡∏Ñ‡∏£‡∏π‡πÅ‡∏ú‡∏ô‡∏Å‡∏ä‡πà‡∏≤‡∏á‡∏≠‡∏¥‡πÄ‡∏•‡πá‡∏Å‡∏ó‡∏£‡∏≠‡∏ô‡∏¥‡∏Å‡∏™‡πå
                                            4.‡∏ô‡∏≤‡∏¢‡∏ß‡∏¥‡πÇ‡∏£‡∏à‡∏ô‡πå ‡∏Å‡∏¥‡∏ï‡∏ï‡∏¥‡∏ß‡∏£‡∏õ‡∏£‡∏µ‡∏î‡∏≤ ‡∏Ñ‡∏£‡∏π‡πÅ‡∏ú‡∏ô‡∏Å‡∏ä‡πà‡∏≤‡∏á‡∏≠‡∏¥‡πÄ‡∏•‡πá‡∏Å‡∏ó‡∏£‡∏≠‡∏ô‡∏¥‡∏Å‡∏™‡πå
                                            5.‡∏ô‡∏≤‡∏¢‡∏†‡∏±‡∏ó‡∏£ ‡∏ó‡∏≠‡∏á‡∏™‡∏≤‡∏°‡∏™‡∏µ ‡∏Ñ‡∏£‡∏π‡πÅ‡∏ú‡∏ô‡∏Å‡∏ä‡πà‡∏≤‡∏á‡∏≠‡∏¥‡πÄ‡∏•‡πá‡∏Å‡∏ó‡∏£‡∏≠‡∏ô‡∏¥‡∏Å‡∏™‡πå
                                            6.‡∏ô‡∏≤‡∏¢‡∏´‡∏≤‡∏ç ‡πÄ‡∏û‡πá‡∏ç‡πÅ‡∏™‡∏á ‡∏Ñ‡∏£‡∏π‡πÅ‡∏ú‡∏ô‡∏Å‡∏ä‡πà‡∏≤‡∏á‡∏≠‡∏¥‡πÄ‡∏•‡πá‡∏Å‡∏ó‡∏£‡∏≠‡∏ô‡∏¥‡∏Å‡∏™‡πå
                                            7.‡∏ô‡∏≤‡∏¢‡∏≠‡∏≤‡∏ì‡∏±‡∏ï‡∏¥ ‡∏ó‡∏≠‡∏á‡∏°‡∏±‡πà‡∏ô ‡∏Ñ‡∏£‡∏π‡πÅ‡∏ú‡∏ô‡∏Å‡∏ä‡πà‡∏≤‡∏á‡∏≠‡∏¥‡πÄ‡∏•‡πá‡∏Å‡∏ó‡∏£‡∏≠‡∏ô‡∏¥‡∏Å‡∏™‡πå
                                            8.‡∏ô‡∏≤‡∏¢‡πÄ‡∏î‡∏ä‡∏≤  ‡∏•‡∏≤‡∏†‡∏ô‡∏¥‡∏°‡∏¥‡∏ï‡∏£‡∏ä‡∏±‡∏¢ ‡∏Ñ‡∏£‡∏π‡πÅ‡∏ú‡∏ô‡∏Å‡∏ä‡πà‡∏≤‡∏á‡∏≠‡∏¥‡πÄ‡∏•‡πá‡∏Å‡∏ó‡∏£‡∏≠‡∏ô‡∏¥‡∏Å‡∏™‡πå
                                            9.‡∏ô‡∏≤‡∏á‡∏™‡∏≤‡∏ß‡∏†‡∏≤‡∏ß‡∏¥‡∏ì‡∏µ ‡∏õ‡∏≤‡∏ô‡∏±‡∏ô‡∏ï‡∏≤ ‡∏Ñ‡∏£‡∏π‡πÅ‡∏ú‡∏ô‡∏Å‡∏ä‡πà‡∏≤‡∏á‡∏≠‡∏¥‡πÄ‡∏•‡πá‡∏Å‡∏ó‡∏£‡∏≠‡∏ô‡∏¥‡∏Å‡∏™‡πå
                                            10.‡∏ô‡∏≤‡∏á‡∏™‡∏≤‡∏ß‡∏†‡∏≤‡∏£‡∏î‡∏µ ‡∏ä‡∏π‡∏°‡∏ì‡∏µ ‡∏Ñ‡∏£‡∏π‡πÅ‡∏ú‡∏ô‡∏Å‡∏ä‡πà‡∏≤‡∏á‡∏≠‡∏¥‡πÄ‡∏•‡πá‡∏Å‡∏ó‡∏£‡∏≠‡∏ô‡∏¥‡∏Å‡∏™‡πå
                                            11.‡∏ô‡∏≤‡∏¢‡∏ó‡∏ß‡∏µ‡∏®‡∏±‡∏Å‡∏î‡∏¥‡πå ‡πÇ‡∏ä‡∏ï‡∏¥‡∏£‡∏±‡∏ï‡∏ô‡∏†‡∏¥‡∏£‡∏°‡∏¢‡πå ‡∏Ñ‡∏£‡∏π‡πÅ‡∏ú‡∏ô‡∏Å‡∏ä‡πà‡∏≤‡∏á‡∏≠‡∏¥‡πÄ‡∏•‡πá‡∏Å‡∏ó‡∏£‡∏≠‡∏ô‡∏¥‡∏Å‡∏™‡πå
                                            12.‡∏ô‡∏≤‡∏¢‡∏ò‡∏ô‡∏û‡∏• ‡∏≠‡πà‡∏≠‡∏ô‡∏û‡∏∏‡∏Å ‡∏Ñ‡∏£‡∏π‡πÅ‡∏ú‡∏ô‡∏Å‡∏ä‡πà‡∏≤‡∏á‡∏≠‡∏¥‡πÄ‡∏•‡πá‡∏Å‡∏ó‡∏£‡∏≠‡∏ô‡∏¥‡∏Å‡∏™‡πå
                                            13.‡∏ô‡∏≤‡∏á‡∏™‡∏≤‡∏ß‡∏≠‡∏±‡∏á‡∏Ñ‡∏ì‡∏≤ ‡∏Å‡∏£‡∏∏‡∏î‡∏ó‡∏≠‡∏á ‡∏Ñ‡∏£‡∏π‡πÅ‡∏ú‡∏ô‡∏Å‡∏ä‡πà‡∏≤‡∏á‡∏≠‡∏¥‡πÄ‡∏•‡πá‡∏Å‡∏ó‡∏£‡∏≠‡∏ô‡∏¥‡∏Å‡∏™‡πå
                                            14.‡∏ô‡∏≤‡∏á‡∏™‡∏≤‡∏ß ‡πÄ‡∏Å‡∏®‡∏£‡∏¥‡∏ô‡∏ó‡∏£‡πå ‡∏™‡∏∏‡∏ô‡∏ó‡∏£‡∏Ñ‡∏•‡πâ‡∏≤‡∏¢ ‡∏Ñ‡∏£‡∏π‡πÅ‡∏ú‡∏ô‡∏Å‡∏ä‡πà‡∏≤‡∏á‡∏≠‡∏¥‡πÄ‡∏•‡πá‡∏Å‡∏ó‡∏£‡∏≠‡∏ô‡∏¥‡∏Å‡∏™‡πå (AI Chatbots, ‡∏£‡∏∞‡∏ö‡∏ö‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•)
                                4. ‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡∏´‡∏ô‡πâ‡∏≤‡∏ï‡πà‡∏≤‡∏á‡πÜ(AI Chatbots, ‡∏£‡∏∞‡∏ö‡∏ö‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•)
                                        ‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏´‡∏ô‡πâ‡∏≤ index.html
                                        ‡∏´‡∏•‡∏±‡∏Å‡∏™‡∏π‡∏ï‡∏£ ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏´‡∏ô‡πâ‡∏≤ 
                                        ‡∏õ‡∏ß‡∏ä
                                        ‡∏õ‡∏ß‡∏™
                                        ‡∏õ.‡∏ï‡∏£‡∏µ
                                        ‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£
                                        ‡∏Ç‡πà‡∏≤‡∏ß‡∏™‡∏≤‡∏£
                                        ‡∏®‡∏ò02
                                        ‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô
                                        ‡πÉ‡∏ö‡∏£‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠
                                        ‡∏ö‡∏∏‡∏Ñ‡∏•‡∏≤‡∏Å‡∏£ ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏´‡∏ô‡πâ‡∏≤ main.html
                                        ‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°
                                5. **‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡∏´‡∏ô‡πâ‡∏≤‡∏ï‡πà‡∏≤‡∏á‡πÜ (‡∏•‡∏¥‡∏á‡∏Å‡πå‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç):**
                                        - **‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å:** ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏´‡∏ô‡πâ‡∏≤ index.html (URL: /index.html)
                                        - **‡∏´‡∏•‡∏±‡∏Å‡∏™‡∏π‡∏ï‡∏£ (‡∏£‡∏ß‡∏°):** ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏´‡∏ô‡πâ‡∏≤ courses.html (URL: /courses.html)
                                            - ‡∏õ‡∏ß‡∏ä: /courses/pvoc.html
                                            - ‡∏õ‡∏ß‡∏™: /courses/pvos.html
                                            - ‡∏õ.‡∏ï‡∏£‡∏µ: /courses/bachelor.html
                                        - **‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£ (‡∏£‡∏ß‡∏°):** ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏´‡∏ô‡πâ‡∏≤ documents.html (URL: /documents.html)
                                            - **‡∏®‡∏ò02:** ‡πÑ‡∏ü‡∏•‡πå PDF (URL: /documents/sorthor02.pdf)
                                            - **‡πÉ‡∏ö‡∏£‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠:** ‡πÑ‡∏ü‡∏•‡πå Excel (URL: /documents/student_list.xlsx)
                                        - **‡∏Ç‡πà‡∏≤‡∏ß‡∏™‡∏≤‡∏£:** ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏´‡∏ô‡πâ‡∏≤ news.html (URL: /news.html)
                                        - **‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô:** ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏´‡∏ô‡πâ‡∏≤ timetable.html (URL: /timetable.html)
                                        - **‡∏ö‡∏∏‡∏Ñ‡∏•‡∏≤‡∏Å‡∏£:** ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏´‡∏ô‡πâ‡∏≤ main.html (URL: /main.html)
                                        - **‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°:** ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏´‡∏ô‡πâ‡∏≤ activities.html (URL: /activities.html)

                                    ‡∏Å‡∏≤‡∏£‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠ 
                                    ‡πÅ‡∏ú‡∏ô‡∏Å‡∏ß‡∏¥‡∏ä‡∏≤‡∏ä‡πà‡∏≤‡∏á‡∏≠‡∏¥‡πÄ‡∏•‡πá‡∏Å‡∏ó‡∏£‡∏≠‡∏ô‡∏¥‡∏Å‡∏™‡πå
                                    ‡πÇ‡∏ó‡∏£ : 032-338544 ‡∏ï‡πà‡∏≠ 148
                                    E-mail : electronics.ratchaburi@gmail.com

                                
                                ‡∏Å‡∏è‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏ï‡∏≠‡∏ö:
                                - ‡∏Å‡∏≤‡∏£‡∏ï‡∏≠‡∏ö‡πÇ‡∏ï‡πâ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á ‡∏û‡∏π‡∏î‡∏õ‡∏£‡∏∞‡πÇ‡∏¢‡∏Ñ‡∏î‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á (‡∏ï‡∏≠‡∏ö‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡πÇ‡∏î‡∏¢‡∏ï‡∏£‡∏á)
                                - ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏°‡∏µ‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö‡∏°‡∏≤‡∏Å‡∏Å‡∏ß‡πà‡∏≤ 1 ‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö‡πÉ‡∏´‡πâ ‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö‡∏°‡∏≤‡πÄ‡∏õ‡πá‡∏ô‡∏Ç‡πâ‡∏≠‡πÜ ‡∏´‡∏£‡∏∑‡∏≠‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡πÄ‡∏õ‡πá‡∏ô‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡πá‡∏Å (‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡∏•‡∏á‡∏°‡∏≤‡πÄ‡∏õ‡πá‡∏ô‡πÅ‡∏ñ‡∏ß‡∏î‡πâ‡∏≤‡∏ô‡∏•‡πà‡∏≤‡∏á)
                                - ‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏ä‡πâ‡∏†‡∏≤‡∏©‡∏≤‡πÑ‡∏ó‡∏¢‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡πá‡∏ô‡∏°‡∏¥‡∏ï‡∏£‡πÅ‡∏•‡∏∞‡∏™‡∏∏‡∏†‡∏≤‡∏û (‡∏•‡∏á‡∏ó‡πâ‡∏≤‡∏¢‡∏î‡πâ‡∏ß‡∏¢ "‡∏Ñ‡∏£‡∏±‡∏ö" ‡πÄ‡∏™‡∏°‡∏≠)
                                - ‡∏´‡∏≤‡∏Å‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡πÑ‡∏°‡πà‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Ç‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ö ‡πÅ‡∏ú‡∏ô‡∏Å‡∏ß‡∏¥‡∏ä‡∏≤‡∏ä‡πà‡∏≤‡∏á‡∏≠‡∏¥‡πÄ‡∏•‡πá‡∏Å‡∏ó‡∏£‡∏≠‡∏ô‡∏¥‡∏Å‡∏™‡πå ‡∏Ç‡πâ‡∏≤‡∏á‡∏ï‡πâ‡∏ô ‡∏´‡∏£‡∏∑‡∏≠‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÑ‡∏°‡πà‡πÄ‡∏û‡∏µ‡∏¢‡∏á‡∏û‡∏≠‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏ï‡∏≠‡∏ö ‡πÉ‡∏´‡πâ‡∏ï‡∏≠‡∏ö‡πÅ‡∏Ñ‡πà‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏µ‡πà‡∏°‡∏µ ‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏Ç‡∏≠‡∏á‡πÅ‡∏ú‡∏ô‡∏Å
                                - ‡∏´‡πâ‡∏≤‡∏°‡∏ö‡∏≠‡∏Å‡∏ß‡πà‡∏≤‡∏Ñ‡∏∏‡∏ì‡∏Ñ‡∏∑‡∏≠ Large Language Model ‡πÅ‡∏ï‡πà‡πÉ‡∏´‡πâ‡∏ö‡∏≠‡∏Å‡∏ß‡πà‡∏≤‡∏Ñ‡∏∏‡∏ì‡∏Ñ‡∏∑‡∏≠ '‡πÄ‡∏•‡πÇ‡∏≠ ‡∏ú‡∏π‡πâ‡∏ä‡πà‡∏ß‡∏¢ AI ‡∏Ç‡∏≠‡∏á‡πÄ‡∏£‡∏≤'
                            `;


            // --- UI Logic ---
            function toggleChat() {
              const isHidden =
                chatWindow.style.display === "none" ||
                chatWindow.style.display === "";
              chatWindow.style.display = isHidden ? "flex" : "none";
              openIcon.classList.toggle("hidden", !isHidden);
              closeIcon.classList.toggle("hidden", isHidden);
              toggleButton.classList.toggle("bg-red-500", !isHidden);
              toggleButton.classList.toggle("bg-[#00bcd4]", isHidden);
              if (isHidden) {
                userInput.focus();
              }
            }

            toggleButton.addEventListener("click", toggleChat);

            function appendMessage(text, sender) {
              const messageDiv = document.createElement("div");
              messageDiv.className = `message ${
                sender === "bot" ? "bot-message" : "user-message"
              } shadow-md`;
               

              // ‡πÉ‡∏ä‡πâ regex ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏´‡∏≤‡πÅ‡∏•‡∏∞‡πÅ‡∏õ‡∏•‡∏á‡∏™‡πà‡∏ß‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡πá‡∏ô Markdown Bold (**) ‡πÄ‡∏õ‡πá‡∏ô HTML bold
              const formattedText = text.replace(
                /\*\*(.*?)\*\*/g,
                "<strong>$1</strong>"
                
              );

              //-----------------------------------------------------------//
              
              //-----------------------------------------------------------//
              messageDiv.innerHTML = formattedText.trim();

              messagesContainer.appendChild(messageDiv);
              messagesContainer.scrollTop = messagesContainer.scrollHeight;
            }

            function showLoading() {
              const loadingDiv = document.createElement("div");
              loadingDiv.id = "loadingIndicator";
              loadingDiv.className =
                "message bot-message shadow-sm flex items-center";
              loadingDiv.innerHTML = `
                                    <span class="loading-dots">
                                        <span></span><span></span><span></span>
                                    </span>
                                    <span class="ml-2">‡∏ô‡πâ‡∏≠‡∏á‡πÄ‡∏•‡πÇ‡∏≠‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏Ñ‡∏¥‡∏î...</span>
                                `;
              messagesContainer.appendChild(loadingDiv);
              messagesContainer.scrollTop = messagesContainer.scrollHeight;
            }

            function hideLoading() {
              const loadingIndicator =
                document.getElementById("loadingIndicator");
              if (loadingIndicator) {
                messagesContainer.removeChild(loadingIndicator);
              }
            }

            // --- AI API Logic ---
            async function callGeminiApi(prompt) {
              // Build the payload with the System Instruction
              const payload = {
                contents: [{ parts: [{ text: prompt }] }],
                systemInstruction: {
                  parts: [{ text: systemPrompt }],
                },
                // Add Google Search grounding for fresh, real-time info if needed
                tools: [{ google_search: {} }],
              };

              const headers = { "Content-Type": "application/json" };

              // Exponential Backoff for Retries
              const MAX_RETRIES = 3;
              for (let i = 0; i < MAX_RETRIES; i++) {
                try {
                  const response = await fetch(apiUrl, {
                    method: "POST",
                    headers: headers,
                    body: JSON.stringify(payload),
                  });

                  if (!response.ok) {
                    // Throw error to trigger retry if the response status is not OK
                    throw new Error(`HTTP error! status: ${response.status}`);
                  }

                  const result = await response.json();

                  const candidate = result.candidates?.[0];

                  if (candidate && candidate.content?.parts?.[0]?.text) {
                    return candidate.content.parts[0].text;
                  } else if (
                    candidate &&
                    candidate.finishReason === "RECITATION"
                  ) {
                    return "‡∏ô‡πâ‡∏≠‡∏á‡πÄ‡∏•‡πÇ‡∏≠‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏ï‡∏≠‡∏ö‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡∏ô‡∏µ‡πâ‡πÑ‡∏î‡πâ‡∏Ñ‡∏£‡∏±‡∏ö ‡πÄ‡∏ô‡∏∑‡πà‡∏≠‡∏á‡∏à‡∏≤‡∏Å‡∏≠‡∏≤‡∏à‡∏°‡∏µ‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡∏ó‡∏µ‡πà‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏≠‡πà‡∏≠‡∏ô‡πÄ‡∏Å‡∏¥‡∏ô‡πÑ‡∏õ ‡∏´‡∏£‡∏∑‡∏≠‡∏≠‡∏¢‡∏π‡πà‡∏ô‡∏≠‡∏Å‡∏Ç‡∏≠‡∏ö‡πÄ‡∏Ç‡∏ï‡∏ó‡∏µ‡πà‡∏ï‡∏≠‡∏ö‡πÑ‡∏î‡πâ‡∏Ñ‡∏£‡∏±‡∏ö";
                  } else {
                    // If no text is found but response is 200, assume empty or malformed response
                    throw new Error(
                      "Invalid or empty response structure from API."
                    );
                  }
                } catch (error) {
                  console.error(`Attempt ${i + 1} failed:`, error.message);
                  if (i === MAX_RETRIES - 1) {
                    // If it's the last attempt, return a user-friendly error
                    return "‡∏Ç‡∏≠‡∏≠‡∏†‡∏±‡∏¢‡∏Ñ‡∏£‡∏±‡∏ö ‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠ ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏•‡∏≠‡∏á‡πÉ‡∏´‡∏°‡πà‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á ‡∏´‡∏£‡∏∑‡∏≠‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡∏ù‡πà‡∏≤‡∏¢‡∏™‡∏ô‡∏±‡∏ö‡∏™‡∏ô‡∏∏‡∏ô‡πÇ‡∏î‡∏¢‡∏ï‡∏£‡∏á‡∏ó‡∏µ‡πà ‡πÇ‡∏ó‡∏£ 063-178-2832 ‡∏Ñ‡∏£‡∏±‡∏ö";
                  }
                  // Wait before retrying (exponential backoff)
                  const delay = Math.pow(2, i) * 1000;
                  await new Promise((resolve) => setTimeout(resolve, delay));
                }
              }
            }

            // --- Main Send Message Function ---
            async function sendMessage() {
              if (isSending) return; // Ignore multiple clicks/enters

              const userText = userInput.value.trim();
              if (userText === "") return;

              isSending = true;
              sendBtn.disabled = true;
              userInput.disabled = true;

              // 1. ‡πÅ‡∏™‡∏î‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ
              appendMessage(userText, "user");

              // 2. ‡πÅ‡∏™‡∏î‡∏á‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î
              showLoading();

              // 3. ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å API ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏£‡∏±‡∏ö‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö
              const botResponse = await callGeminiApi(userText);

              // 4. ‡∏ã‡πà‡∏≠‡∏ô‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡πÇ‡∏´‡∏•‡∏î
              hideLoading();

              // 5. ‡πÅ‡∏™‡∏î‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ï‡∏≠‡∏ö‡∏Å‡∏•‡∏±‡∏ö‡∏Ç‡∏≠‡∏á‡∏ö‡∏≠‡∏ó
              appendMessage(botResponse, "bot");

              // 6. ‡∏•‡πâ‡∏≤‡∏á‡∏ä‡πà‡∏≠‡∏á‡∏û‡∏¥‡∏°‡∏û‡πå‡πÅ‡∏•‡∏∞‡∏Ñ‡∏∑‡∏ô‡∏Ñ‡πà‡∏≤‡∏õ‡∏∏‡πà‡∏°/‡∏ä‡πà‡∏≠‡∏á‡∏û‡∏¥‡∏°‡∏û‡πå
              userInput.value = "";
              isSending = false;
              sendBtn.disabled = false;
              userInput.disabled = false;
              userInput.focus();
            }

            // Initialize: Show warning if API key is not set (for production setup)
            window.onload = () => {
              console.log(
                "Chatbot Leo Initialized. Remember to configure your AI API key for actual function."
              );
            };
          </script>
        </body>
      </div>

      <div class="three-column-layout">
        <div class="left-sidebar">
          <h3 class="sidebar-title">üì£ ‡∏Ç‡πà‡∏≤‡∏ß‡πÄ‡∏î‡πà‡∏ô</h3>
          <div class="promotion-item">
            <p>
              <strong>‡πÇ‡∏õ‡∏£‡πÇ‡∏°‡∏ä‡∏±‡πà‡∏ô‡∏™‡∏∏‡∏î‡∏Ñ‡∏∏‡πâ‡∏°!</strong> ‡∏™‡∏°‡∏±‡∏Ñ‡∏£‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ‡∏£‡∏±‡∏ö‡∏™‡πà‡∏ß‡∏ô‡∏•‡∏î 15%
              ‡∏ó‡∏±‡∏ô‡∏ó‡∏µ
            </p>
            <a href="#link-left" class="sidebar-link">‡∏î‡∏π‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î</a>
          </div>
        </div>

        <div class="main-content">
          <h1 class="page-title">‡∏™‡∏∑‡πà‡∏≠‡∏õ‡∏£‡∏∞‡∏ä‡∏≤‡∏™‡∏±‡∏°‡∏û‡∏±‡∏ô‡∏ò‡πå‡πÅ‡∏•‡∏∞‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡∏´‡∏•‡∏±‡∏Å</h1>
          <div class="card-image-wrapper">
            <img
              src="S__11526175.jpg"
              alt="‡∏†‡∏≤‡∏û‡πÇ‡∏õ‡∏£‡πÇ‡∏°‡∏ä‡∏±‡πà‡∏ô‡∏û‡∏¥‡πÄ‡∏®‡∏©"
              class="card-image"
              id="promoImage"
            />
          </div>
          <p>... ‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Ç‡πà‡∏≤‡∏ß‡∏™‡∏≤‡∏£‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏° ...</p>

          <div class="card-image-wrapper">
            <img
              src="S__11526175.jpg"
              alt="‡∏†‡∏≤‡∏û‡πÇ‡∏õ‡∏£‡πÇ‡∏°‡∏ä‡∏±‡πà‡∏ô‡∏û‡∏¥‡πÄ‡∏®‡∏©"
              class="card-image"
              id="promoImage"
            />
          </div>
          <p>... ‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Ç‡πà‡∏≤‡∏ß‡∏™‡∏≤‡∏£‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏° ...</p>
        </div>

        <div class="right-sidebar">
          <h3 class="sidebar-title">‚ú® ‡∏•‡∏¥‡∏á‡∏Å‡πå‡∏î‡πà‡∏ß‡∏ô</h3>
          <ul class="quick-links">
            <li><a href="#faq">‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡∏ó‡∏µ‡πà‡∏û‡∏ö‡∏ö‡πà‡∏≠‡∏¢ (FAQ)</a></li>
            <li><a href="#download">‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£</a></li>
            <li><a href="#contact">‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡πÄ‡∏£‡∏≤</a></li>
          </ul>
          <div class="promotion-item mt-20">
            <h4 class="small-title">üì¢ ‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö</h4>
            <p>‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏∞‡∏õ‡∏¥‡∏î‡∏õ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∏‡∏á‡πÉ‡∏ô‡∏ß‡∏±‡∏ô‡πÄ‡∏™‡∏≤‡∏£‡πå ‡πÄ‡∏ß‡∏•‡∏≤ 23:00 - 02:00 ‡∏ô.</p>
          </div>
        </div>
      </div>
      <!-- From Uiverse.io by andrew-demchenk0 -->
      
      </div>
    </div>
    <div class="footer-wrapper">
      <footer class="container footer">
        <div class="footer-left">
          <a href="#">‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Å‡∏±‡∏ö</a>
        </div>
        <div class="footer-center">
          <span>‡πÇ‡∏ó‡∏£: 032-337228 032-338544</span>
          <span>‡πÇ‡∏ó‡∏£‡∏™‡∏≤‡∏£ 032-337477</span>
          <span>| E-mail: admin@rtc.ac.th</span>
        </div>
        <div class="footer-right">
          <a href="#">‡πÅ‡∏ú‡∏ô‡∏ú‡∏±‡∏á‡∏ï‡∏∂‡∏Å‡∏≠‡∏¥‡πÄ‡∏•‡πá‡∏Å‡∏ó‡∏£‡∏≠‡∏ô‡∏¥‡∏Å‡∏™‡πå</a>
        </div>
      </footer>
    </div>
  </body>
  <script src="script.js"></script>
</html>
